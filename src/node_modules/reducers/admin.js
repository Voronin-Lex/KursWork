import R from 'ramda'
import phones from '../api/mockPhones'


import {
    ADD_PHONE_TO_SHOP,
    REMOVE_PHONE_FROM_SHOP
} from 'actionTypes'

const initialState = phones;

export default (state = initialState, {type, payload}) => {
    switch (type) {
        case ADD_PHONE_TO_SHOP:
            let editedState = {};
            editedState = state.map(phone => {
                if (phone.id === payload.id) {
                    let editPhone = phone;
                    Object.assign(editPhone.count, editPhone.count++);
                    return editPhone;
                }
                else {
                    return phone;
                }
            });
            return editedState;
        case REMOVE_PHONE_FROM_SHOP:
            return R.without(R.of(payload), state)
        default:
            return state
    }
}